<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<h:html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ps="http://xmlns.jcp.org/jsf/passthrough">
<h:body>
	<ui:composition template="/WEB-INF/templates/layout.xhtml">
		<ui:define name="title">Confirm Parcel</ui:define>
		<ui:define name="content">
			<ui:fragment rendered="#{loginBean.user.type == 2}">
				<div class="container">
					<div class="col-sm-6" style="margin-top: 20px;">
						<div class="panel panel-primary">
							<div class="panel-heading">Parcel Items</div>
							<div class="panel-body">
								<h:form>
									<ui:fragment
										rendered="#{not empty parcelBean.parcel.coldStoreItems}">
										<h:dataTable value="#{parcelBean.parcel.coldStoreItems}"
											var="item" styleClass="table table-striped" id="parcelItems"
											rowClasses="#{parcelBean.rowClasses}">
											<h:column>
												<f:facet name="header">Fish Type</f:facet>
												<h:outputText value="#{item.fishType.name} " />
											</h:column>
											<h:column>
												<f:facet name="header">Weight Purchased</f:facet>
												<h:outputText value="#{item.weightPurchased} " />

											</h:column>
											<h:column>
												<f:facet name="header">Purchase Price</f:facet>
												<h:outputText value="#{item.purchasePrice} " />

											</h:column>
											<h:column>
												<f:facet name="header">Storage Price</f:facet>
												<h:outputText value="#{item.storagePrice}" />
											</h:column>
											<h:column>
												<f:facet name="header">Status</f:facet>
												<h:outputText value="#{item.status}" />
											</h:column>
											<h:column headerClass="table-button">
												<f:facet name="header">Arrived</f:facet>
												<h:commandLink
													styleClass="#{item.status != 1 ? 'btn btn-primary glyphicon glyphicon-ok' : 'btn btn-primary glyphicon glyphicon-remove'}"
													value="" action="#{parcelBean.confirm(item.id)}"
													style="padding:0; width:20px; height:20px; margin:0;">
												</h:commandLink>
											</h:column>
										</h:dataTable>
									</ui:fragment>
								</h:form>
							</div>
						</div>
					</div>
					<div class="col-sm-6">
						<h3 class="text-center">Confirm Parcel</h3>
						<h:form class="form-horizontal ">
							<div class="form-group">
								<label class="control-label col-sm-3" for="name">Name:</label>
								<div class="col-sm-9">
									<p class="form-control-static" id="name">
										<h:outputText value="#{parcelBean.parcel.name}" />
									</p>
								</div>

							</div>
							<div class="form-group">
								<label class="control-label col-sm-3" for="description">Description:
								</label>
								<div class="col-sm-9">
									<p class="form-control-static" id="description">
										<h:outputText value="#{parcelBean.parcel.description}" />
									</p>
								</div>

							</div>
							<div class="form-group">
								<label class="control-label col-sm-3" for="shipName">Ship
									Name:</label>
								<div class="col-sm-9">
									<p class="form-control-static" id="shipName">
										<h:outputText value="#{parcelBean.parcel.shipName}" />
									</p>
								</div>
							</div>
							<div class="form-group">
								<label class="control-label col-sm-3" for="deliveryPrice">Delivery
									Price:</label>
								<div class="col-sm-9">
									<p class="form-control-static" id="deliveryPrice">
										<h:outputText value="#{parcelBean.parcel.deliveryPrice}" />
									</p>
								</div>
							</div>
							<div class="form-group">
								<label class="control-label col-sm-3" for="arrivalDate">Arrival
									Date:</label>
								<div class="col-sm-9">
									<p class="form-control-static" id="arrivalDate">
										<h:outputText value="#{parcelBean.parcel.arrivalDate}">
											<f:converter converterId="dateConverter" />
										</h:outputText>
									</p>
								</div>
							</div>
							<div class="btn-toolbar">
								<h:commandButton value="Save"
									action="#{parcelBean.saveParcelCSM}"
									styleClass="btn btn-primary pull-right " />
								<h:commandButton type="reset" value="Cancel"
									action="#{parcelBean.cancelCSM}"
									styleClass="btn btn-default pull-right " />
							</div>
						</h:form>
					</div>
				</div>
			</ui:fragment>
		</ui:define>
	</ui:composition>
</h:body>
</h:html>